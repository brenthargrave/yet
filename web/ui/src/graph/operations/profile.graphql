fragment ProfileProps on Profile {
  id
  name
  email
  role
  org
}

query GetProfile($input: GetProfileInput) {
  getProfile(input: $input) {
    profile {
      ...ProfileProps

      # ! TODO: codegen fails here - use graphql interface?
      # events {
      #   ...TimelineEventProps
      # }
      events {

        ...on ConversationPublished {
          type
          occurredAt
          persona
          conversation {
            ...ConversationProps
          }
        }
        ...on ContactProfileChanged {
          type
          occurredAt
          contact {
            ...ContactProps
          }
        }

      }

    }
  }
}

mutation PatchProfile($input: PatchProfileInput!) {
  patchProfile(input: $input) {
    userError {
      message
    }
    profile {
      ...ProfileProps
    }
  }
}

mutation UpdateProfile($input: UpdateProfileInput!) {
  updateProfile(input: $input) {
    userError {
      ...UserErrorProps
    }
    profile {
      ...ProfileProps
    }
  }
}
