fragment ConversationProps on Conversation {
  id
  creator {
    id
    name
  }
  invitees {
    id
    name
  }
  note
  status
  insertedAt
  occurredAt
  deletedAt
  signatures {
    id
    signedAt
    conversationId
    signer {
      id
      name
      org
      role
    }
  }
}

query GetConversations {
  getConversations {
    conversations {
      ...ConversationProps
    }
  }
}

query ViewConversation($id: ID!) {
  getConversation(id: $id) {
    conversation {
     ...ConversationProps
    }
    userError {
      message
      code
    }
  }
}

mutation UpsertConversation($input: ConversationInput!) {
  upsertConversation(input: $input) {
    conversation {
     ...ConversationProps
    }
  }
}

mutation DeleteConversation($input: DeleteConversationInput!) {
  deleteConversation(input: $input) {
    userError {
      code
      message
    }
    conversation {
     ...ConversationProps
    }
  }
}

mutation SignConversation($input: SignInput!) {
  sign(input: $input) {
    conversation {
      ...ConversationProps
    }
    userError {
      code
      message
    }
  }
}

query Contacts {
  contacts {
    id
    name
    org
    role
  }
}
